(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fdc244da"],{"306f":function(e,t,a){"use strict";a("f1df")},"498a":function(e,t,a){"use strict";var r=a("23e7"),s=a("58a8").trim,n=a("c8d2");r({target:"String",proto:!0,forced:n("trim")},{trim:function(){return s(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var r=a("1d80"),s=a("5899"),n="["+s+"]",o=RegExp("^"+n+n+"*"),i=RegExp(n+n+"*$"),c=function(e){return function(t){var a=String(r(t));return 1&e&&(a=a.replace(o,"")),2&e&&(a=a.replace(i,"")),a}};e.exports={start:c(1),end:c(2),trim:c(3)}},"5c9c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._m(1),a("form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.handleFormSubmit(t)}}},[a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"account"}},[e._v("帳號")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],ref:"account",staticClass:"form-control",attrs:{id:"account",name:"account",type:"text",autocomplete:"useraccount",required:"",autofocus:""},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value)}}})]),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"name"}},[e._v("名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],ref:"name",staticClass:"form-control",attrs:{id:"name",name:"name",type:"text",autocomplete:"username",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"email"}},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],ref:"email",staticClass:"form-control",attrs:{id:"email",name:"email",type:"email",autocomplete:"useremail",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"password"}},[e._v("密碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"password",staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",autocomplete:"new-password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"check-password"}},[e._v("密碼確認")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkPassword,expression:"checkPassword"}],ref:"checkPassword",staticClass:"form-control",attrs:{id:"check-password",name:"checkPassword",type:"password",autocomplete:"new-password",required:""},domProps:{value:e.checkPassword},on:{input:function(t){t.target.composing||(e.checkPassword=t.target.value)}}})]),a("div",{staticClass:"form-label-group button-div"},[a("button",{staticClass:"btn btn-primary btn-block submit-button",attrs:{disabled:e.isProcessing,type:"submit"}},[e._v(" 註冊 ")]),a("router-link",{directives:[{name:"show",rawName:"v-show",value:!e.isProcessing,expression:"!isProcessing"}],staticClass:"text-secondary",attrs:{to:"/signin"}},[e._v(" 取消 ")])],1)])])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"logo-bar header"},[r("img",{attrs:{src:a("ad30"),alt:"logo"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-bar header"},[a("span",[e._v("建立你的帳號")])])}],n=a("1da1"),o=(a("96cf"),a("498a"),a("b0c0"),a("2fa3")),i={signUp:function(e){var t=e.payLoad;return o["b"].post("/users",t)}},c={data:function(){return{account:"",name:"",email:"",password:"",checkPassword:"",isProcessing:!1}},methods:{handleFormSubmit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.account.trim()){t.next=5;break}return o["a"].fire({icon:"warning",title:"請填寫帳號"}),e.$refs.account.focus(),t.abrupt("return");case 5:if(e.name.trim()){t.next=9;break}return o["a"].fire({icon:"warning",title:"請填寫名稱"}),e.$refs.name.focus(),t.abrupt("return");case 9:if(e.email.trim()){t.next=13;break}return o["a"].fire({icon:"warning",title:"請填寫email"}),e.$refs.email.focus(),t.abrupt("return");case 13:if(e.password){t.next=17;break}return o["a"].fire({icon:"warning",title:"請填寫密碼"}),e.$refs.password.focus(),t.abrupt("return");case 17:if(e.checkPassword){t.next=21;break}return o["a"].fire({icon:"warning",title:"請填寫密碼確認"}),e.$refs.checkPassword.focus(),t.abrupt("return");case 21:if(e.password===e.checkPassword){t.next=25;break}return o["a"].fire({icon:"warning",title:"密碼確認有誤，請再次填寫"}),e.checkPassword="",t.abrupt("return");case 25:return a={account:e.account,name:e.name,email:e.email,password:e.password,checkPassword:e.checkPassword},e.isProcessing=!0,t.next=29,i.signUp({payLoad:a});case 29:if(r=t.sent,s=r.data,console.log(s),"success"===s.status){t.next=47;break}if("this account already exists "!==s.message){t.next=40;break}return console.log("帳號被註冊過"),o["a"].fire({icon:"warning",title:"此帳號已被註冊過，請換一組"}),e.isProcessing=!1,e.account="",e.$refs.account.focus(),t.abrupt("return");case 40:if("this email already exists "!==s.message){t.next=46;break}return o["a"].fire({icon:"warning",title:"此email已被註冊過，請換一組"}),e.isProcessing=!1,e.email="",e.$refs.email.focus(),t.abrupt("return");case 46:throw new Error(s.message);case 47:o["a"].fire({icon:"success",title:"註冊成功"}),e.$router.push("/signin"),t.next=58;break;case 51:t.prev=51,t.t0=t["catch"](0),o["a"].fire({icon:"error",title:"無法成功註冊，請稍後再試"}),console.log(t.t0),e.isProcessing=!1,e.password="",e.checkPassword="";case 58:case"end":return t.stop()}}),t,null,[[0,51]])})))()},autoFocus:function(){this.$refs.account.focus()}},mounted:function(){this.autoFocus()}},u=c,l=(a("306f"),a("2877")),m=Object(l["a"])(u,r,s,!1,null,"526453ea",null);t["default"]=m.exports},c8d2:function(e,t,a){var r=a("d039"),s=a("5899"),n="​᠎";e.exports=function(e){return r((function(){return!!s[e]()||n[e]()!=n||s[e].name!==e}))}},f1df:function(e,t,a){}}]);
//# sourceMappingURL=chunk-fdc244da.ad5ba0fa.js.map